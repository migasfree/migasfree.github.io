import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,b as i,d as t,e as a,a as h,w as p,r as k,o as r}from"./app-B8GzWXuM.js";const d={};function o(c,s){const n=k("RouteLink");return r(),l("div",null,[s[3]||(s[3]=i("h2",{id:"introduccion",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#introduccion"},[i("span",null,"Introducción")])],-1)),i("p",null,[s[1]||(s[1]=a("Presentación realizada para la ")),h(n,{to:"/migascon-2022.html"},{default:p(()=>s[0]||(s[0]=[a("migascon 2022")])),_:1,__:[0]}),s[2]||(s[2]=a(", en la que se muestran los cambios más importantes de la aplicación migasfree client en su versión 5."))]),s[4]||(s[4]=t(`<h2 id="protocolo-de-comunicacion-v4" tabindex="-1"><a class="header-anchor" href="#protocolo-de-comunicacion-v4"><span>Protocolo de comunicación v4</span></a></h2><p>El gran cambio respecto al cliente actual (versión 4), es el protocolo de comunicación usado con el servidor (<code>migasfree-backend</code>).</p><p>En la versión 4, los mensajes entre cliente y servidor sólo están firmados mediante un CRC. Como puede apreciarse, si alguien intercepta la comunicación, se puede ver claramente qué se intercambia entre las aplicaciones.</p><div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>{&quot;upload_computer_message&quot;: &quot;Conectando al servidor migasfree...&quot;}3�_�!A�l&lt;��i�hT�J������	��8\\Olw6vfy&quot;�1؎#m@K�e��~�l���i����/Q������h4(�~�I�ٸBy�y	��us�ACK</span></span>
<span class="line"><span>                                                                               O���]X��L&gt;�ݗ���dg����E���A�=%�h����ҽ�ˈ���&amp;�q�}ˠ</span></span>
<span class="line"><span>��)3W�E��\`30�K�ݝv���p��m�</span></span>
<span class="line"><span>                         �7+\\J�?X�Az��}�&quot;��@������T=d����O�f���	�s���N</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="protocolo-de-comunicacion-v5" tabindex="-1"><a class="header-anchor" href="#protocolo-de-comunicacion-v5"><span>Protocolo de comunicación v5</span></a></h2><p>El nuevo protocolo está basado en <a href="https://jwt.io/" target="_blank" rel="noopener noreferrer">JWT</a> (JSON Web Token) y es autenticado y cifrado a la vez. Esto significa que, aunque se use el protocolo HTTP sin cifrado, las comunicaciones entre el cliente y servidor son seguras.</p><div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.NHVaYe26MbtOYhSKkoKYdFVomg4i8ZJd8_-RU8VNbftc4TSMb4bXP3l3YlNWACwyXPGffz5aXHc6lty1Y2t4SWRqGteragsVdZufDn5BlnJl9pdR_kdVFUsra2rWKEofkZeIC4yWytE58sMIihvo9H1ScmmVwBcQP6XETqYd0aSHp1gOa9RdUPDvoXQ5oqygTqVtxaDr6wUFKrKItgBMzWIdNZ6y7O9E0DhEPTbE9rfBo6KTFsHAZnMg4k68CDp2woYIaXbmYTWcvbzIuHO7_37GT79XdIwkm95QJ7hYC9RiwrV7mesbY4PAahERJawntho0my942XheVLmGwLMBkQ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="sistema-de-plugins" tabindex="-1"><a class="header-anchor" href="#sistema-de-plugins"><span>Sistema de plugins</span></a></h2><p>Otro área de mejora que incorpora el nuevo cliente es el sistema de <em>plugins</em> para PMS (sistemas de paquetería) y manejo de dispositivos (impresoras).</p><p>Está ideado para que el cliente se pueda extender en sistemas operativos que usan otros PMS distintos a los que lleva por defecto el cliente (<code>apt</code>, <code>yum</code>, <code>zypper</code>, <code>pacman</code> y <code>winget</code>) o que se quiera usar otro mecanismo para la gestión de las impresoras.</p><h2 id="unificacion-de-comandos" tabindex="-1"><a class="header-anchor" href="#unificacion-de-comandos"><span>Unificación de comandos</span></a></h2><p>También ha cambiado la forma de invocar los comandos a través de la terminal (CLI). Todo se ha unificado bajo un mismo comando (<code>migasfree</code>) y algunos de los parámetros han sufrido cambios.</p><p>Tened esto muy en cuenta si tenéis <em>scripts</em> que hacen uso del cliente.</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> migasfree</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -h</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">usage:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> migasfree</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [-h] [-d] [-q]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                 {</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">register,search,sync,install,purge,traits,label,version,tags,upload,info,remove-keys}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Sistema</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> de</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gestión</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> de</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sistemas</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (lado </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">cliente</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">positional</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> arguments:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  {</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">register,search,sync,install,purge,traits,label,version,tags,upload,info,remove-keys}</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    register</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            Registrar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ordenador</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> en</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> el</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> servidor</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    search</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">              Buscar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> un</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> paquete</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> en</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> los</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> repositorios</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    sync</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                Sincronizar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ordenador</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> con</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> el</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> servidor</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">             Instalar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> paquete</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    purge</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">               Desinstalar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> paquete</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> completamente</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    traits</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">              Obtener</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> características</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> del</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ordenador</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> en</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> el</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> servidor</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    label</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">               Indentificación</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> del</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ordenador</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    version</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">             Mostrar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> información</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> de</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> la</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> versión</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    tags</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                Etiquetas</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> del</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ordenador</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">              Subir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ficheros</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> al</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> servidor</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    info</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                Obtener</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> información</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> del</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ordenador</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> en</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> el</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> servidor</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    remove-keys</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         Borrar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> las</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> claves</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> del</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cliente</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">options:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -h,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --help</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            show</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> this</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> help</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> message</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> exit</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -d,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --debug</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">           Habilitar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> el</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> modo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> de</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> depuración</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -q,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --quiet</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">           Habilitar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> modo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> silencioso</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (no </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">verboso</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="atomizacion-de-operaciones" tabindex="-1"><a class="header-anchor" href="#atomizacion-de-operaciones"><span>Atomización de operaciones</span></a></h2><p>Además, la API que consume el cliente se ha atomizado. Es decir, que se han separado acciones, para hacer más sencilla y extensible la operativa entre cliente y servidor. Esto hace posible que se puedan desarrollar otros clientes a futuro, tal vez especializándose en algunas de las operaciones disponibles.</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> migasfree</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sync</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -h</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">usage:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> migasfree</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sync</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [-h] [-f] [-dev | -hard | -soft | -att | -fau]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">options:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -h,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --help</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">           show</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> this</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> help</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> message</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> exit</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -f,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --force-upgrade</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Fuerza</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> la</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> actualización</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> de</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> software</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -dev,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --devices</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      Sincronizar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dispositivos</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> del</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ordenador</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> con</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> el</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> servidor</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -hard,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --hardware</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Sincronizar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hardware</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> del</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ordenador</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> con</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> el</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> servidor</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -soft,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --software</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Subir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> información</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> del</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> software</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> del</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ordenador</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> al</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> servidor</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -att,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --attributes</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Subir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> información</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> de</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> los</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> atributos</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> al</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> servidor</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  -fau,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --faults</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       Subir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> información</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> de</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> las</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fallas</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> al</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> servidor</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="python-3" tabindex="-1"><a class="header-anchor" href="#python-3"><span>Python 3</span></a></h2><p>Este nuevo cliente sólo se puede usar si en el sistema está Python 3. Ya no hay soporte oficial para la versión 2.</p><p>Gracias a esta modernización, se usa la librería <a href="https://rich.readthedocs.io/" target="_blank" rel="noopener noreferrer">Python Rich</a> para mostrar la salida de los comandos.</p><h2 id="ejemplos" tabindex="-1"><a class="header-anchor" href="#ejemplos"><span>Ejemplos</span></a></h2><p>Ejemplo de uso del argumento <code>tags</code> en el comando unificado <code>migasfree</code>.</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> migasfree</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tags</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --get</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Versión</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> de</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> migasfree:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Opciones</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> de</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> configuración:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/migasfree.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Proyecto:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ubuntu-20-04</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Servidor:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> localhost:2345</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Protocolo:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Actualizar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> paquetes</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> automáticamente:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> True</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Gestión</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> de</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dispositivos:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> True</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Proxy:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> None</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Proxy</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> caché</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> de</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> paquetes:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> None</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Depuración:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> False</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Nombre</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> del</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ordenador:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pc26934</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;assigned&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;DMN-PLAZA-PILAR&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;available&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;DOMAIN&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;DMN-PLAZA-PILAR&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Nueva funcionalidad que da información acerca de la identificación del equipo en el sistema migasfree.</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> migasfree</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> info</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Versión</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> de</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> migasfree:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Opciones</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> de</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> configuración:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/migasfree.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Proyecto:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ubuntu-20-04</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Servidor:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> localhost:2345</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Protocolo:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Actualizar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> paquetes</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> automáticamente:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> True</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Gestión</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> de</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dispositivos:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> False</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Subir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hardware:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> True</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Proxy:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> None</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Proxy</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> caché</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> de</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> paquetes:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> None</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Depuración:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> False</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Nombre</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> del</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ordenador:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PC22071</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Opciones</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> de</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ejecución:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Versión</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> de</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> MigasFree</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Server:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5.0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Certificado</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SSL:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> False</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        PMS:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        Arquitectura:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> amd64</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">┏━━━━━┳━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">┃</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  ┃</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> NAME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    ┃</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SEARCH</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            ┃</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> UUID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                                 ┃</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">┡━━━━━╇━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 292</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> │</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PC22071</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> │</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PC22071</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (CID-292) │ 691CBD33-8CED-11E6-9C43-BC0000380000 │</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">└─────┴─────────┴───────────────────┴──────────────────────────────────────┘</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mundo-windows" tabindex="-1"><a class="header-anchor" href="#mundo-windows"><span>Mundo Windows</span></a></h2><p>Necesitamos tener 3 programas en Windows para tener las mismas características que en Linux:</p><ol><li><p>El cliente en sí, que proporciona la comunicación con el servidor.</p></li><li><p>Un detector de las características hardware del equipo que siga la misma estructura que el comando <code>lshw</code> de linux.</p></li><li><p>Un sistema de paquetería que permita auditar el software y realizar acciones de instalación.</p></li></ol><p>Hasta ahora, tan sólo podíamos acometer los 2 primeros puntos, por lo que no habíamos invertido tiempo en el proyecto para tener el cliente en plataforma Windows. Sin embargo, en mayo de 2021, Microsoft liberó la versión 1.0 de <a href="https://github.com/microsoft/winget-cli" target="_blank" rel="noopener noreferrer">Windows Package Manager Client</a> (winget), el sistema de paquetería &quot;oficial&quot; para Windows. Este es el hecho que nos ha decidido a preparar el cliente de migasfree para Windows. Además, hemos creado el proyecto <a href="https://github.com/migasfree/lshw-windows-emulator" target="_blank" rel="noopener noreferrer">LsHw Windows Emulator</a>, que es una simplificación de lshw, basado en llamadas a Windows Management Instrumentation (WMI).</p><p>Por el momento, el soporte del cliente en Windows es experimental, debido al sistema de paquetería <em>winget</em> y a las novedades introducidas en el cliente.</p><h2 id="despedida" tabindex="-1"><a class="header-anchor" href="#despedida"><span>Despedida</span></a></h2><p>Hasta aquí, hemos mostrado las novedades más importantes del cliente migasfree en su versión 5.</p><p>El cambio más radical es la atomización de la API que consume el cliente. Es decir, que se han separado acciones, para hacer más sencilla y extensible la operativa entre cliente y servidor.</p><p>Esto hace posible que se puedan desarrollar otros clientes a futuro, tal vez especializándose en algunas de las operaciones disponibles.</p><p>Quedamos a la espera de vuestros comentarios. Gracias.</p>`,35))])}const y=e(d,[["render",o]]),A=JSON.parse('{"path":"/presentaciones/migasfree-client.html","title":"Migasfree Client","lang":"es-ES","frontmatter":{"title":"Migasfree Client","author":"jact","date":"2022-05-19T16:30:00.000Z","timeline":false,"description":"Resume los principales cambios introducidos en la versión 5 del cliente de migasfree, específicamente su protocolo de comunicación mejorado, sistema de complementos y compatibilidad con Windows.","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Migasfree Client\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-05-19T16:30:00.000Z\\",\\"dateModified\\":\\"2025-07-03T12:04:05.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"jact\\"}]}"],["meta",{"property":"og:url","content":"http://migasfree.org/presentaciones/migasfree-client.html"}],["meta",{"property":"og:site_name","content":"Migasfree"}],["meta",{"property":"og:title","content":"Migasfree Client"}],["meta",{"property":"og:description","content":"Resume los principales cambios introducidos en la versión 5 del cliente de migasfree, específicamente su protocolo de comunicación mejorado, sistema de complementos y compatibilidad con Windows."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"es-ES"}],["meta",{"property":"og:updated_time","content":"2025-07-03T12:04:05.000Z"}],["meta",{"property":"article:author","content":"jact"}],["meta",{"property":"article:published_time","content":"2022-05-19T16:30:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-07-03T12:04:05.000Z"}]]},"git":{"createdTime":1751544245000,"updatedTime":1751544245000,"contributors":[{"name":"Jose Antonio Chavarría","username":"","email":"jachavar@gmail.com","commits":1}]},"readingTime":{"minutes":3.58,"words":1073},"filePathRelative":"presentaciones/migasfree-client.md","excerpt":""}');export{y as comp,A as data};
